{% extends 'base.html' %}

{% block extra_css %}
<style>
    .listings-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 40px 24px;
        padding: 24px;
    }
    .card { cursor: pointer; text-decoration: none; color: inherit; display: block; }
    .image-container { position: relative; aspect-ratio: 20/19; border-radius: var(--radius); overflow: hidden; background: #eee; margin-bottom: 12px; }
    .card-img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease; }
    .card:hover .card-img { transform: scale(1.05); }
    .card-info h3 { font-size: 15px; font-weight: 600; margin-bottom: 2px; }
    .price { margin-top: 6px; font-size: 15px; font-weight: 600; }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <h2>Recommended Rooms</h2>
</div>

<div class="listings-container">
    {% for room in rooms %}
    <a href="/room/{{ room.id }}" class="card">
        <div class="image-container">
            <img src="{{ room.image_url }}" alt="{{ room.title }}" class="card-img" onerror="this.src='https://via.placeholder.com/300'">
        </div>
        <div class="card-info">
            <div class="info-left">
                <h3>{{ room.address }}</h3>
                <p>{{ room.title }}</p>
                <div class="price">${{ room.price_per_month }} <span>/ month</span></div>
            </div>
            <div class="rating">
                <i class="fas fa-star" style="color:var(--dark)"></i> New
            </div>
        </div>
    </a>
    {% else %}
    <p style="padding: 24px;">No rooms available. <a href="/upload">Upload one?</a></p>
    {% endfor %}
</div>
{% endblock %}