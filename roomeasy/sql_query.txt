-- Create a table for Rooms
create table rooms (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  owner_id uuid references auth.users not null,
  title text not null,
  description text,
  address text not null,
  price_per_month numeric not null,
  image_url text not null, -- For this demo, we use a single main image URL
  status text default 'available'
);

-- Create a table for Bookings
create table bookings (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  user_id uuid references auth.users not null,
  room_id bigint references rooms(id) not null,
  booking_type text not null, -- 'lock', 'full', 'visit'
  amount_paid numeric not null
);